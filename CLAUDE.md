# Глобальные инструкции CLAUDE

## Оглавление
- [Язык общения](#язык-общения)
- [Перенаправление вывода в Windows](#перенаправление-вывода-в-windows)
- [Автоочистка файла nul](#автоочистка-файла-nul)
- [Документация и Context7 MCP](#документация-и-context7-mcp)
- [Декомпозиция задач](#декомпозиция-задач)

---

## Язык общения

Всегда общайся с пользователем на русском языке. Исключения: код, команды терминала, технические термины без устоявшегося перевода.

---

## Перенаправление вывода в Windows

Claude Code работает в bash-совместимом шелле (Git Bash / MSYS2). В этом окружении `nul` не является спецустройством Windows, а создаёт обычный файл с именем `nul`.

**Правило:** для подавления вывода всегда используй `/dev/null`:

```bash
command > /dev/null 2>&1
```

НИКОГДА не пиши `> nul`, `> NUL` или `2>nul` в bash-командах.

---

## Автоочистка файла `nul`

В конце каждого ответа используй Glob для поиска файлов `nul`/`NUL` в рабочей директории и поддиректориях (оба паттерна: `**/nul` и `**/NUL`). Если найдены — удали каждый через bash:

```bash
rm -rf "./path/to/nul"
```

Если файл(ы) `nul` были удалены — сообщи об этом пользователю. Если файлы не найдены — **ничего не сообщай**, проверка должна быть молчаливой.

---

## Документация и Context7 MCP

Если Context7 MCP подключен — **всегда** используй его для поиска актуальной документации библиотек/API при генерации кода, настройке и конфигурации. Явный запрос пользователя не требуется — делай это проактивно.

Если Context7 MCP **не подключен**, но задача требует актуальной документации — мягко подскажи пользователю, что подключение Context7 MCP улучшит качество ответов.

---

## Декомпозиция задач

При работе над нетривиальными задачами (как в Plan Mode, так и при обычной работе) используй TaskList/TaskCreate/TaskUpdate для декомпозиции и отслеживания прогресса. Каждый шаг должен быть оформлен как отдельная задача с чётким описанием и `activeForm`.
